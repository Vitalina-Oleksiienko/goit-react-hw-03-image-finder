{"version":3,"sources":["components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/PixabyFetch/PixabyFetch.js","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["Button","hendleClick","props","onClick","this","className","type","Component","ImageGalleryItem","state","modalIsOpen","images","map","webformatURL","id","tags","src","alt","ImageGallery","onModalOpen","propTyppes","PropTypes","func","Loader","Modal","document","addEventListener","e","keyCode","onModalCloseByEsc","onModalClose","onKeyDown","largeImg","PixabayFetch","_searchQuery","page","value","url","searchQuery","axios","get","then","result","catch","err","console","log","Searchbar","search","onSubmit","preventDefault","trim","setState","alert","onChange","target","name","autocomplete","autofocus","placeholder","newPixabyFetch","PixabyFetch","App","status","responseData","onSearchFormSubmit","prevState","searchPage","searchPhotos","res","data","hits","finally","window","scrollTo","top","documentElement","scrollHeight","behavior","found","find","el","toString","largeImageURL","currentTarget","prevProps","resetPage","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e97286c6.chunk.js","sourcesContent":["import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Button extends Component {\r\n    hendleClick = () => {\r\n        return this.props.onClick(1);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <button onClick={this.hendleClick} className=\"Button\" type=\"button\">Load more</button>\r\n        )\r\n            \r\n    }\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func,\r\n}","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n    state = {\r\n        modalIsOpen: false,\r\n    };\r\n    render() {\r\n        return this.props.images.map(({ webformatURL, id, tags }) => {\r\n            return (\r\n                <li key={id} className=\"ImageGalleryItem\">\r\n                    <img\r\n                        id={id}\r\n                        src={webformatURL}\r\n                        alt={tags}\r\n                        className=\"ImageGalleryItem-image\"\r\n                    />\r\n                </li>\r\n            );\r\n        });\r\n    }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.object),\r\n};","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default class ImageGallery extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <ul onClick={this.props.onModalOpen} className=\"ImageGallery\">\r\n                    <ImageGalleryItem images={this.props.images} />\r\n                </ul>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nImageGallery.propTyppes = {\r\n    onModalOpen: PropTypes.func,\r\n};","import { Component } from 'react';\r\n\r\nexport default class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"lds-ellipsis\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        document.addEventListener('keyup', e => {\r\n            if (e.keyCode === 27) {\r\n                this.props.onModalCloseByEsc();\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                onClick={this.props.onModalClose}\r\n                onKeyDown={this.props.onKeyDown}\r\n                className=\"Overlay\"\r\n            >\r\n                <div className=\"Modal\">\r\n                    <img className=\"LargeGalleryImage\" src={this.props.largeImg} alt=\"\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    onModalClose: PropTypes.func,\r\n    onModalCloseByEsc: PropTypes.func,\r\n    onModalOpen: PropTypes.func,\r\n    largeImg: PropTypes.string,\r\n};","// key 23221080-2cf2140e9411e0421a0100dec\r\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nimport axios from 'axios';\r\n\r\nexport default class PixabayFetch {\r\n  constructor() {\r\n    this._searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this._searchQuery;\r\n  }\r\n  set searchQuery(value) {\r\n    return (this._searchQuery = value);\r\n  }\r\n\r\n  get searchPage() {\r\n    return this.page;\r\n  }\r\n\r\n  set searchPage(value) {\r\n    return (this.page = value);\r\n  }\r\n\r\n  resetPage() {\r\n    return (this.page = 1);\r\n  }\r\n\r\n  searchPhotos() {\r\n    const base_url = 'https://pixabay.com/api/';\r\n    const api_key = '23221080-2cf2140e9411e0421a0100dec';\r\n\r\n    const params = `?q=${this.searchQuery}&page=${this.page}&per_page=12&image_type=photo&orientation=horizontal&key=${api_key}`;\r\n    const url = base_url + params;\r\n\r\n    return axios\r\n      .get(url)\r\n      .then(result => {\r\n        return result;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.search.trim() !== '') {\r\n      this.props.onSubmit(this.state.search);\r\n      this.setState({ search: '' });\r\n    } else alert('Add your search query');\r\n  };\r\n  onChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.onChange}\r\n            name=\"searh\"\r\n            value={this.state.search}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};","\nimport './App.css';\n\nimport { Component } from 'react';\nimport Button from './components/Button/Button';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport PixabyFetch from './components/PixabyFetch/PixabyFetch';\nimport Searchbar from './components/Searchbar/Searchbar';\n\nimport './index.css';\n\n\nconst newPixabyFetch = new PixabyFetch();\n\nexport default class App extends Component {\n  state = {\n    search: '',\n    page: 1,\n    status: 'init',\n    modalIsOpen: false,\n    largeImg: '',\n    responseData: [],\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      window.scrollTo({\n        top: document.documentElement,\n        behavior: 'smooth',\n      });\n      newPixabyFetch.resetPage();\n      this.setState({ status: 'pending', page: 1 });\n\n      newPixabyFetch.searchQuery = this.state.search;\n      newPixabyFetch\n        .searchPhotos()\n        .then(res => {\n          if (res.data.hits.length !== 0) {\n            this.setState({ responseData: [...res.data.hits] });\n          } else alert('Nothing to show!');\n        })\n        .then(\n          this.setState(prevState => ({\n            page: prevState.page + 1,\n          })),\n        )\n        .finally(() => {\n          this.setState({ status: 'success' });\n        });\n    }\n  }\n\n  onSearchFormSubmit = search => {\n    this.setState({ search });\n  };\n  onClick = value => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n      status: 'pending',\n    }));\n    newPixabyFetch.searchPage = this.state.page;\n    newPixabyFetch\n      .searchPhotos()\n      .then(res => {\n        this.setState(prevState => ({\n          responseData: [...prevState.responseData, ...res.data.hits],\n        }));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        this.setState({ status: 'success' });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight - 1200,\n          behavior: 'smooth',\n        });\n      });\n\n  };\n  onModalOpen = e => {\n    const found = this.state.responseData.find(\n      el => el.id.toString() === e.target.id,\n    );\n\n    this.setState(prevState => ({\n      modalIsOpen: !prevState.modalIsOpen,\n      largeImg: found.largeImageURL,\n    }));\n  };\n\n  onModalClose = e => {\n    if (\n      e.target.className === 'Overlay' &&\n      e.currentTarget.className === 'Overlay'\n    ) {\n      this.setState(prevState => ({\n        modalIsOpen: !prevState.modalIsOpen,\n      }));\n    }\n  };\n\n  onModalCloseByEsc = () => {\n    this.setState({ modalIsOpen: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSearchFormSubmit} />\n        <ImageGallery\n          images={this.state.responseData}\n          onModalOpen={this.onModalOpen}\n        />\n        {this.state.status === 'pending' && <Loader />}\n        {this.state.responseData.length > 0 && (\n          <Button onClick={this.onClick} />\n        )}\n        {this.state.modalIsOpen && (\n          <Modal\n            onModalOpen={this.onModalOpen}\n            onModalClose={this.onModalClose}\n            onModalCloseByEsc={this.onModalCloseByEsc}\n            largeImg={this.state.largeImg}\n          />\n        )}\n      </>\n    );\n  }\n\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}